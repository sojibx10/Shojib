const axios = require("axios"); const fs = require("fs"); const path = require("path"); const links = [ "https://files.catbox.moe/n8bj4l.mp3", "https://files.catbox.moe/dgw3a4.mp3", "https://files.catbox.moe/vghhh5.mp3", "https://files.catbox.moe/nt2ggy.mp3", "https://files.catbox.moe/wnep5y.mp3" ]; const triggers = ["ğŸ’ƒğŸ¾", "ğŸ‘¯", "ğŸ¤", "ğŸ™ï¸", "ğŸ•ºğŸ¾", "ğŸº"]; module.exports.config = { name: "ğŸ’ƒğŸ¾", version: "2.0.0", hasPermssion: 0, credits: "ğ—œğ˜€ğ—¹ğ—®ğ—ºğ—¶ğ—° ğ—°ğ—µğ—®ğ˜ ğ—¯ğ—¼ğ˜ | áµá´¸á´¸â´Ë¢á´´", description: "auto reply with smart media", commandCategory: "noprefix", usages: triggers.join(", "), cooldowns: 5, dependencies: { "axios": "", "fs-extra": "" } }; module.exports.handleEvent = async ({ api, event, Threads }) => { const content = event.body || ''; const body = content.toLowerCase(); if (triggers.some(emoji => body.startsWith(emoji))) { const rahad = [ "â•­â€¢à¦¹à¦¾à¦¸à¦¬à¦¿ à¦¨à¦¾ à¦ªà¦¾à¦ªà¦¿à¦° à¦¦à¦² ğŸ™‚â•¯", "â•­â€¢à¦¹à¦¾à¦¸à¦¬à¦¿ à¦¨à¦¾ à¦ªà¦¾à¦ªà¦¿à¦° à¦¦à¦² ğŸ‘…â€¢â•¯" ]; const rahad2 = rahad[Math.floor(Math.random() * rahad.length)]; const fileUrl = links[Math.floor(Math.random() * links.length)]; const fileExt = path.extname(fileUrl); const filePath = path.join(__dirname, "cache", `file${fileExt}`); try { const response = await axios({ method: "GET", url: fileUrl, responseType: "stream" }); const writer = fs.createWriteStream(filePath); response.data.pipe(writer); writer.on("finish", () => { api.sendMessage({ body: rahad2, attachment: fs.createReadStream(filePath) }, event.threadID, () => fs.unlinkSync(filePath), event.messageID); }); writer.on("error", (err) => { console.error("File write error:", err); api.sendMessage("âŒ à¦«à¦¾à¦‡à¦² à¦ªà¦¾à¦ à¦¾à¦¤à§‡ à¦¸à¦®à¦¸à§à¦¯à¦¾ à¦¹à¦¯à¦¼à§‡à¦›à§‡!", event.threadID, event.messageID); }); } catch (error) { console.error("Download error:", error); api.sendMessage("âŒ à¦®à¦¿à¦¡à¦¿à¦¯à¦¼à¦¾ à¦¡à¦¾à¦‰à¦¨à¦²à§‹à¦¡ à¦¬à§à¦¯à¦°à§à¦¥!", event.threadID, event.messageID); } } }; module.exports.languages = { "en": { "on": "on", "off": "off", "successText": "success!", } }; module.exports.run = async ({ api, event, Threads, getText }) => { const { threadID, messageID } = event; let data = (await Threads.getData(threadID)).data; if (typeof data["ğŸ’ƒğŸ¾"] === "undefined" || data["ğŸ’ƒğŸ¾"]) data["ğŸ’ƒğŸ¾"] = false; else data["ğŸ’ƒğŸ¾"] = true; await Threads.setData(threadID, { data }); global.data.threadData.set(threadID, data); api.sendMessage(`${(data["ğŸ’ƒğŸ¾"]) ? getText("off") : getText("on")} ${getText("successText")}`, threadID, messageID); };